---
var_sources:
- name: test
  type: dummy
  config:
    vars:
        GIT_REPO: https://github.com/kkalugerov/ConcourseCI.git

resources:
  - name: resource-src
    type: git
    source:
      uri: ((test:GIT_REPO))
      branch: main


jobs:
  - name: job-test-app
    public: true
    plan:
      - get: resource-src
        trigger: true
      - task: run-python
        file: resource-src/tasks/run_python.yml
  
  - name: job-show-date
    plan:
      - get: resource-src
        passed: [job-test-app]
        trigger: true
      - task: show-date
        file: resource-src/tasks/echo.yml
        # config:
        #   platform: linux
        #   image_resource:
        #     type: docker-image
        #     source: {repository: alpine}
        #   run:
        #     path: sh
        #     args:
        #       - -exc
        #       - echo "This is the second JOB"
